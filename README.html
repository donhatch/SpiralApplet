<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- initial template from http://docs.mathjax.org/en/latest/start.html -->

<!--
    Notes:
        \; for thick space
        \: for medium space
        \, for thin space
        \! for negative thin space

    Can't seem to adjust print font size by user :-(
    so messing with it in the style sheet here.


    TODO: make interaction purely delta-based, not requiring any absolute positioning at all?
    TODO: validator says width/height not allowed on div at that point
    TODO: why is it not jumping to #youarehere any more?? (is it a jquery thing?)
    TODO: my specified default zoom trigger not working?
    TODO: it would be awesome if it were possible to start typesetting
          at a particular place in the page, right after the anchor
          we started loading the page at
    TODO: figure out how to validate?
    TODO: can't seem to get asciimath to work?  oh wait! it's working, from the web page http://cdn.mathjax.org/mathjax/2.1-latest/test/sample-asciimath.html .  EEK, works over the web but not locally?? hmm.  wonder if I need to put something locally? or enable something?  weird
    TODO: css validator is giving me errors on the styles inside the svg sections, wtf?
        ERROR: Property stroke doesn't exist : blue
        ERROR: Property stroke-width doesn't exist : 2.0
        ERROR: Property fill doesn't exist : none
    TODO: main validator:
        ERROR: Attribute vector-effect not allowed on element path at this point.
        oh no! and if I try to change version from 1.1 to 1.2 it says:
            Unsupported SVG version specified. This validator only supports SVG 1.1. The recommended way to suppress this warning is to remove the version attribute altogether.
        argh!
    TODO: can I preprocess the preprocessed stuff so that _x and ^x mean \underline{x} and \overline{x}? YES! but make it nicer

    Content:
        TODO: maybe r,l should be the edge indices (even) instead of the vert indices (odd)?  not sure, maybe it's fine the way it is.

    Typesetting:
        TODO: typeset in priority order!
        TODO: legit equation numbering?
        TODO: URL params:
                - initial x1,x2,y1,y2 etc.
                - ability to typeset only delimited by "you are here" stuff?


-->
    <title>The Spiral Moment Lemma: There's No Single-Exit Lagoon</title>
    <style type="text/css">

        /* hide anything with class="asciiprevis" */
        .asciiprevis {display:none;}
        /* hide anything with class="debug" */
        .debug {display:none;}


        /*
            For some reason printing comes out really tiny
            (even more in chrome than in firefox)
            if I don't make an explicit font size change.
            I don't know how to change font size for a particular printout,
            so hard-coding sizes in here.
            Font sizes:
                xx-small
                x-small
                small
                medium
                large
                x-large
                xx-large
            ARGH! anything media-specific causes corrupt output of math when printing in chrome!
            need to figure out why!
            printing in chrome seems pretty funky anyway (snap!) so I'll just print in firefox.

            ideal settings (when expressed outside @media) seem to be:
                firefox screen: medium (or large)
                firefox print: large (or x-large)
                chrome screen: large
                chrome screen: x-large
            but inside @media it acts different!
                - in chrome, mathjax max gets corrupt when printed
                - in firefox, @media print large
                  is bigger (and more to my liking)
                  than regular print large!
                  OH I think it's because the screen one leaked into 
                  the print one? some subtlety of the print previewer?
                  it's corrupt, too... didn't notice that before.
        */

        @media screen {
            body {font-size:large;}
        }
        @media print {
            body {font-size:large;}
        }

        /*
            messing with trying to keep pre's on one page.
            these directives probably don't mean anything on screen.
            doesn't do much in firefox :-(
            and at this point chrome won't even give me a preview screen :-(
        */
        pre {
            page-break-during: avoid;
        }
        pre * {
            page-break-after: avoid;
            page-break-before: avoid;
        }
        p.breakhere {page-break-before:always;}


        text {
            /* make it so the svg text doesn't get highlighted
               if the mouse is over it during dragging,
               since that got pretty distracting.
               the user-select one is commented out because it provokes a warning in firefox.
               XXX actually this doesn't happen any more even without this, I don't think... ?? figure out why or why not
               */
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            /* user-select: none; */

            /* fill: green; */
        }


        /*
        * text-decoration:underline and overline have problems:
        *      - underline too close to text
        *      - overline gets split, e.g. when overlining x_d
        *  so use box borders instead.
        *  http://stackoverflow.com/questions/1734618/css-underline-possible-to-increase-gap
        */
        .ul {
            border-bottom: 1px solid black;
            padding-bottom: 1px;
        }
        .ol {
            border-top: 1px solid black;
            padding-top: 0px;
        }
        .uol {
            border-top: 1px solid black;
            padding-top: 0px;
            border-bottom: 1px solid black;
            padding-bottom: 1px;
        }
        /*
        * note, svg needs to be wrapped alone in a div for dragging scheme to work.
        * also we'd like to center them, so each figure is wrapped
        * in a <div class="figure">
        * which we present by centering it
        * XXX THIS DOESN'T WORK YET
        */
        div.figure {
            width:60%; /* XXX ARGH! don't want to have to do this! */
            margin:auto;
            outline: 1px dashed #d0d0d0;
        }
        svg.figure {
            outline: 1px dashed black;

            /* this makes it an arrow cursor throughout the svg
               (if we don't do this, it turns into the text cursor
               when hovering over text elements */
            cursor: default;
        }
        .movable {
            cursor: pointer;
        }
    </style>


    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                // make '$' delimit inline math
                inlineMath: [['$','$'], ['\\(','\\)']],
                // make \$ give a real dollar sign, even in non-math mode
                processEscapes: true,
            },

            TeX: {
                Macros: {
                    // just a record of how to make a macro, for my reference.
                    // (note, this apparently works for _ but not for ^)
                    _: ["\\underline{#1}",1],
                },
            },
            asciimath2jax: {
                delimiters: [['`','`']],
            },
            menuSettings: {
                // make it so that hovering over an equation zooms it
                // (right click on an equation to see how to alter this
                // within a session)
                // XXX this isn't working?
                zoom: 'hover',
            },
            "HTML-CSS": {
                // oh hmm, it's complicated... see http://docs.mathjax.org/en/latest/options/HTML-CSS.html  .  not sure how to get a font I want.
                preferredFont: "STIX",
            },

            // we're going to make a pass over the document using jquery first,
            // so skip typesetting during startup, and we'll call MathJax.Hub.Typeset()
            // explicitly when we want it.
            // (actually MathJax.Hub.Queue(["Typeset",MathJax.Hub])).
            skipStartupTypeset: true,
        });
    </script>
    <!-- note, the particular config used below allows
         both tex (using $...$)
         and asciimath (using `...`) on same page -->
    <script type="text/javascript"
      src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML.js">
    </script>


    <script
        src="http://code.jquery.com/jquery-1.7.1.min.js">
    </script>

    <script>
	// make $ not be an alias for jQuery
        // since I think that's ridiculous...
        jQuery.noConflict();
    </script>

    <script src="initFigureInteraction.js"></script> <!-- what the hell? do NOT self-close! it makes everything fail in mysterious ways-->
    <script src="vertexColoredPath.js"></script>

    <script>
        /*
        To make the source of the proofs
        more readable and maintainable,
        the following preprocessing is done
        on all latex math (anything inside $...$'s or $$..$$'s)
        before feeding it to mathjax's tex processor.
        (In fact, rather than trying to detect where the $'s begin and end,
        we just do this on the whole darn document,
        hopefully excluding this explanation)
        1.
            Any of the following:
                _  ^  ^_  _^
            followed by any thing of the following:
                A B C D
                tp tm td
                rp rm rd
                xp xm xd
                yp ym yd
                 p  m  d
            get transformed into the respective one of
                \underline{thing}
                \overline{thing}
                \underline{\overline{thing}}
                \overline{\underline{thing}}
            (the latter two are effectively the same).
            (The _ and ^ go before the object rather than after,
            to avoid complication in parsing, for example, rd^2)
        2.
            The following:
                tp tm td
                rp rm rd
                xp xm xd
                yp ym yd
            get turned into, respectively:
                {\theta_p} {\theta_m} {\theta_d}
                {r_p} {r_m} {r_d}
                {x_p} {x_m} {x_d}
                {y_p} {y_m} {y_d}

        How to do this?
        Well, the following says there's a way to register a function
        as a preprocessor:
            https://groups.google.com/forum/?fromgroups=#!topic/mathjax-users/lWmbG9FClJs
        It says there's currently no way to get my preprocessor
        to run before the others, however mml2jax is the only extension
        that currently loads a preprocessor so it should be safe
        (DANGER-- might this change?)
        Davide also suggests making it a config file
        and loading it before original combined config file.

        */

        //http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values/901144#901144
        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
            return results == null ? null : decodeURIComponent(results[1].replace(/\+/g, " "));
        }



        // queue calling the following code
        // when the document is loaded
        jQuery(document).ready(function() {
            console.log("in jquery document-ready function!");

            var nTimesToBeVerbose = 0;

            var myCallback = function(index,element) {
                if (nTimesToBeVerbose-- >= 1)
                {
                    console.log("        in myCallback");
                    console.log("            element=",element);
                    console.log("            element.tagName=",element.tagName);
                    console.log("            element.nodeValue=",element.nodeValue);
                    console.log("            element.innerText=",element.innerText);
                    console.log("            element.outerText=",element.outerText);
                    console.log("            element.innerHTML=",element.innerHTML);
                    console.log("            element.outerHTML=",element.outerHTML);
                }
                if (element.nodeValue !== null)
                {
                    element.nodeValue = (element.nodeValue
                        .replace(/\b(([trxy]?_?[dmp]|[ABCD])[_^][^2])/g,'\\color{red}{\\fbox{BAD0: $1}}')
                        // force always using td instead of t_d, etc.
                        .replace(/\b(([trxy]_[dmp])\b)/g,'\\color{green}{\\fbox{BAD1: $1}}')
                        .replace(/(\\theta_)/g,'\\color{blue}{\\fbox{BAD2: $1}}')

                        .replace(/(\^_xd)\b/g,'\\color{red}{\\fbox{$$$1$$}}')
                        .replace(/(_\^xd)\b/g,'\\color{red}{\\fbox{$$$1$$}}')
                        .replace(/\^_([trxy]?[dmp]|[ABCD]'?)\b/g,'\\overline{\\underline $1}')
                        .replace(/_\^([trxy]?[dmp]|[ABCD]'?)\b/g,'\\underline{\\overline $1}')
                        .replace(/_([trxy]?[dmp]|[ABCD]'?)\b/g,'\\underline $1')
                        .replace(/\^([trxy]?[dmp]|[ABCD]'?)\b/g,'\\overline $1')

                        .replace(/\b(t)([dmp])\b/g,'{\\theta_$2}')
                        .replace(/\b([rxy])([dmp])\b/g,'{$1_$2}')

                        .replace(/\\</g,'\\langle')
                        .replace(/\\>/g,'\\rangle')
                    );
                }
            }

            // the logic I want is:
            // if under class='doMyThing'
            // and there's no ancestor <PRE> strictly closer than the class='doMyThing',
            // then do the substitutions.
            // I don't think there's any jQuery selector that does such a thing... ?

            var myCallbackAll = function(element,callback,parentEnabled) {
                var enabled = ((parentEnabled
                             && element.tagName !== 'PRE')
                            || element.className == 'doMyThing');
                if (enabled)
                {
                    callback(0,element);
                }
                for (var child = element.firstChild; child !== null; child = child.nextSibling)
                {
                    myCallbackAll(child,callback,enabled);
                }
            }


            if (true)
            {
                var figure4div = jQuery('#figure4div');
                if (figure4div.length != 1) throw "oh no! can't find figure4div!"
                var figure4svg = figure4div.children();
                var dudleyNeighborsPath = figure4svg.find('.dudleyNeighborsPath');
                var priscillaNeighborsPath = figure4svg.find('.priscillaNeighborsPath');
                if (dudleyNeighborsPath.length != 1) throw "oh no! can't find dudleyNeighborsPath in figure 4!"
                if (priscillaNeighborsPath.length != 1) throw "oh no! can't find priscillaNeighborsPath in figure 4!"
                setupVertexColoredPaths(dudleyNeighborsPath);
                setupVertexColoredPaths(priscillaNeighborsPath);
            }



            var interactParam = getParameterByName('interact');
            //console.log("interact param = ",interactParam);
            if (interactParam != "no")
            {
                console.log("    initializing figures interaction...");
                initFigures567Interaction(function(){});
                console.log("    done initializing figures interaction.");
            }

            if (true)
            {
                console.log("    doing my preprocessing...");
                myCallbackAll(document,myCallback,false);
                console.log("    done my preprocessing.");
            }


            // say "typeset=no" in url to suppress typesetting
            var typesetParam = getParameterByName('typeset');
            //console.log("typeset param = ",typesetParam);
            if (typesetParam !== "no")
            {
                console.log("    calling mathjax typeset...");
                MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
                //MathJax.Hub.Queue(["Typeset",MathJax.Hub,"typesetJustMe"]);
                console.log("    returned from mathjax typeset.");
            }

            console.log("out jquery document-ready function!");
        }); // jquery document ready function
    </script>
</head>
<body>


<div class="debug">
    <hr> <!--============================================================-->

    <div class="doMyThing">
    first thing: $xp$
    </div>
    <div class="doMyThing">
    second thing: $_^yp$
    </div>

    <div class="doMyThing">
    $ \angle (x,y)
    $  0 , 1  $
    $a^b {a}^{b}$
    $rp_$
    $_rp$
    $\underline{hey}$ $xp$ $yp$ $tp$ $_xp$ $_^xp$ $^xp$
    ... when `x \lt y^2` we have ...
    ... when $x \lt y^2$ we have ...
    `(:
        (a,=,b),
        ( ,=, c)
    :)`
    will this work? $_x$
    how bout this? $^x$
    ok how about a simple little regex
    that turns those into \underline and \overline?

    $\underline{\overline{x}}$
    $\underoverline{x}$
    $\_x$
    $\^x$
    $a ^ b$
    </div> <!-- doMyThing -->

    <pre>

    </pre>

    <hr> <!--============================================================-->
</div>

Visualizing an infinite spiral
to try to prove the every-lagoon-has-at-least-two-good-exits conjecture.
<p>
Priscilla and Dudley take a walk counterclockwise
all the way around the primal and dual perimeter respectively,
in such a way that whenever Priscilla is moving along an edge of the primal,
Dudley is stopped at the corresponding vertex of the dual,
and when Dudley is moving along an edge of the dual,
Priscilla is stopped at the corresponding vertex of the primal.
Exactly one of Priscilla and Dudley are moving at any particular time.
<div class="doMyThing">
<p>
Denote Priscilla's and Dudley's positions,
in rectangular and polar coordinates,
by the following, all continuous functions of time $t$:
<p>
\begin{align}
    rp,tp, & xp, yp \\
    rd,td, & xd, yd \\
    xp = rp \cos(tp)  \;\; & \;\;  yp = rp \sin(tp) \\
    xd = rd \cos(td)  \;\; & \;\;  yd = rd \sin(td)
\end{align}
<p>
Priscilla's and Dudley's paces are such that the one who's moving
always does so at unit rotation speed around the origin
while the other stays still.
So their positions are continuous piecewise differentiable functions of time,
with
    $$(d tp + d td) / dt = 1 \;  \text{wherever both are differentiable.}$$
<p>
Since the combined rotational speed is 1 and the combined rotational distance is
$4 \pi$,
it will take
$4 \pi$
units of time for Priscilla and Dudley
to complete one revolution and arrive back at their starting configuration;
if we fix Priscilla's starting point
$ \langle xp,yp \rangle (t=0)$
in the interior (not endpoint) of some primal side, this forces Dudley
to start at the dual vertex
$ \langle xd,yd \rangle (t=0)$
corresponding to that initial primal edge,
and the entire walk is thus determined.
They will arrive back at
$ \langle xp,yp\rangle,\langle xd,yd\rangle $ at time
$t = 4 \pi$.
<p>
Priscilla and Dudley's walk is defined (modulo the choice of starting point)
no matter what the polygon.
Let's apply it to the case of interest: a polygon
with only one good lagoon exit.
(We'll end up with a contradiction,
showing that, in fact, no single-exit single-polygon lagoon exists.)
<p>
Since the primal polygon is bounded by straight lines,
points on the boundary at local maximum and local minimum distance
from the polygon's cc are isolated,
and they alternate, with exactly the same number of local maxima
as local minima.
Furthermore by assumption there's exactly one local maximum
(at some farthest vertex);
therefore there's exactly one local minumum
(somewhere along the nearest side, *not* at a vertex),
which is therefore the unique global minimum.
We'll work in a coordinate system such that the cc
is at the origin
$\langle 0,0 \rangle$,
and the nearest point on the perimeter
is one unit below it, at
$\langle 0,-1\rangle$.
For the dual (at unrelated scale),
place the central vertex at the origin.
Then the dual edge corresponding to the primal edge closest to the origin
in primal space starts at the origin in dual space
and lies along the
$-y$
axis;
choose a scale so that it ends at
$\langle 0,-1\rangle$.
Having chosen the position and scale of the dual,
the entire dual diagram (triangle complex) is thus determined.
It consists of
$n$
triangles, each having one vertex at the origin.
<p>
XXX do we really want to nail down the rotation like that? I don't think it's necessary
</div> <!-- doMyThing -->

<p>
We'll number the primal features in CCW order:
primal edges have even indices and primal vertices have odd indices:
\begin{align}
            e_0 = & \text{the bottom horizontal edge passing through $\langle 0,-1 \rangle$} \\
            v_1 = & \text{right endpoint of $e_0$} \\
            e_2 = & \text{next edge CCW} \\
            v_3 = & \text{next vertex CCW} \\
                ... & \\
    e_{2 n - 2} = & \text{edge CW from e_0} \\
    v_{2 n - 1} = & \text{left endpoint of e_0} \\
\end{align}
<p>
Let
$m$
be the (odd) index of the vertex
that is the global maximum distance from the origin
of the entire primal polygon perimeter.
So
$v_m$
is the only good exit,
and distance-from=origin is strictly increasing
from
$\langle 0,-1\rangle$
around CCW to
$v_m$,
and then strictly decreasing from
$v_m$
back around CCW to
$\langle 0,-1\rangle$.
<p>
Consider the directions of the "quill" emanating
from each vertex of this primal polygon.
Since
$v_m$
is the only good exit,
every quill *except* the one at
$v_m$
points more towards the origin than away from it
(more precisely, the quill
$i$'s direction's dot product with
$v_i$ is
$\lt 0$), so it can't point directly out from the origin,
it must lean
$\gt 90^{\circ}$
from that, CW or CCW.
For
$v_i$
with
$i \lt m$,
distance from origin to perimeter is increasing,
so the quill at
$v_i$
can't lean CCW
(or it would point into the polygon's interior)
so it must lean at least
$90^{\circ}$
CW from straight out.
Similarly for
$v_i$
with
$i>m$,
the quill at
$v_i$
must lean at least
$90^{\circ}$
CCW from straight out.
<p>
There is no apparent contradiction in anything described so far;
some plausible examples are shown in Figures 1(a-e).
<br>
XXX add the missing ones! generate them from shephards play applet
<br>
XXX arrange them side by side
<br>
XXX show duals too
<p>
<pre class="asciiprevis">
Figure 1(a): 212
                       |
                       *v5
                      / \
                     /   \
                    /e6 e4\
                   /       \
                v7*         *v3
                 / \e8   e2/ \
                    \  e0 /
                   v9*---*v1
                      \ /
    On paper, I seemed to think the following was nice:
         .....|.....
         .....*.....
         ...........
         ...........
         ..../.\....
         ...........
         ...........
         ...*...*...
         ...........
         ../.*-*.\..
         ...........
         ...........
         .....X.....
    But the dual gets kind of extreme.
    Maybe the following is nicer (hexagon angles):
    In ShephardsPlayApplet:
         nVirtual=6
         1,1 1/1
         1,1 1/1
         and tweak the primal upwards on plane
         so that spiral becomes proper with respect to origin
         (maybe tweak by exactly half of dual edge)
    I'll enter it the simple way here,
    and then get ShephardsPlayApplet to spit out
    better coords.
</pre>
<p>
<div class="figure">
    <svg class="figure" xmlns="http://www.w3.org/2000/svg"
         version="1.1"
         height="360"
         width="360"
         >
        <!-- 1 unit = 20 pixels -->
        <g transform="translate(180,180) scale(30)">
            <!-- Q: how to scale the coords but not the stroke width??? -->
            <!-- A: supposedly non-scaling-stroke was introduced in SVG Tiny 1.2, not sure if that's what's being used or what -->
            <path
                id="fig1apath"
                vector-effect="non-scaling-stroke"
                style="stroke: blue; stroke-width: 2.0; fill: none"
                d="
                    M 1 4
                    L 2 2
                    L 0 -4
                    L -2 2
                    L -1 4
                    L 1 4

                    M 1 4
                    l -.5 1.5

                    M 2 2
                    l 1 2

                    M 0 -4
                    l 0 -2

                    M -2 2
                    l -1 2

                    M -1 4
                    l .5 1.5
                "
            />
            <g transform="translate(0,3.8) scale(.033333) scale(6)">
                <path
                    vector-effect="non-scaling-stroke"
                    style="stroke:black; stroke-width:1.0; fill:none"
                    d="
                        M -1 0
                        L 1 0
                        M 0 -1
                        L 0 1
                    "
                />
            </g>

            <!-- final local scale must undo effect of global scale! otherwise we get wrong sized text -->
            <g transform="translate(0,4.6)   scale(.033333) translate(-7.5,-7) "> <text>e<tspan dy="5" font-size="70%">0</tspan></text> </g>
            <g transform="translate(1,4)   scale(.033333) translate(5,5) "> <text>v<tspan dy="5" font-size="70%">1</tspan></text> </g>
            <g transform="translate(1.5,3)   scale(.033333) translate(-20,5) "> <text>e<tspan dy="5" font-size="70%">2</tspan></text> </g>
            <g transform="translate(2,2)  scale(.033333) translate(5,0) "> <text>v<tspan dy="5" font-size="70%">3</tspan></text> </g>
            <g transform="translate(1,-1)  scale(.033333) translate(-15,20) "> <text>e<tspan dy="5" font-size="70%">4</tspan></text> </g>
            <g transform="translate(0,-4)  scale(.033333) translate(5,0) "> <text>v<tspan dy="5" font-size="70%">5</tspan></text> </g>
            <g transform="translate(-1,-1)  scale(.033333) translate(0,20) "> <text>e<tspan dy="5" font-size="70%">6</tspan></text> </g>
            <g transform="translate(-2,2) scale(.033333) translate(-20,0) "> <text>v<tspan dy="5" font-size="70%">7</tspan></text> </g>
            <g transform="translate(-1.5,3) scale(.033333) translate(5,5) "> <text>e<tspan dy="5" font-size="70%">8</tspan></text> </g>
            <g transform="translate(-1,4)  scale(.033333) translate(-20,5) "> <text>v<tspan dy="5" font-size="70%">9</tspan></text> </g>
        </g>
    </svg>
</div>
<br>
Figure 1(a): 2 exits tilted too far CW, 1 good exit, 2 exits tilted too far CCW
<p>
<pre class="asciiprevis">
Figure 1(b): 211
                    \
                     *v5
                     | \_
                     |   \e4
                     |     \_
                   e6|       *v3
                     |       | \
                     |       |
                     |       |
                     |       |e2
                     |       |
                     |       |
                     |       |
                   v7*---+---*v1
                     |   e0  |
        (XXX Need to tweak it a bit from this to give quills slop)
        or maybe:
                    \
                     |
                     *v5
                     |\
                     | \
                     |  \
                     |   \e4
                     |    \
                     |     \
                     |      \
                   e6|       *v3
                     |       |  \
                     |       |e2
                     |       |
                   v7*---+---*v1
                     |   e0  |

        In ShephardsPlayApplet:
            nVirtual=5
                0,1 1/1
                1,1 1/1

            \
             *
              \
               \
              \ \
                 \
                  \
               \   \
                    \
                     \
                \     \
                       \
                        \
                 \       \
                          \
                           \
                  \         *


                   \       / \


                    \     /   \


                     *---*


                      \ /
</pre>
<div class="figure">
    <svg class="figure" xmlns="http://www.w3.org/2000/svg"
         version="1.1"
         height="320"
         width="320"
         >
        <!-- 1 unit = 20 pixels -->
        <g transform="translate(160,160) scale(30)">
            <!-- Q: how to scale the coords but not the stroke width??? -->
            <!-- A: supposedly non-scaling-stroke was introduced in SVG Tiny 1.2, not sure if that's what's being used or what -->
            <path
                id="fig1bpath"
                vector-effect="non-scaling-stroke"
                style="stroke: blue; stroke-width: 2.0; fill: none"
                d="
                    M 1 3.5
                    L 2 .5
                    L -2.5 -4
                    L 0 3.5
                    L 1 3.5

                    M 1 3.5
                    l -.25 1

                    M 2 .5
                    l 1 .5

                    M -2.5 -4
                    l -.75 -1

                    M 0 3.5
                    l .25 1
                "
            />
            <g transform="translate(0.5,3.4) scale(.033333) scale(6)">
                <path
                    vector-effect="non-scaling-stroke"
                    style="stroke:black; stroke-width:1.0; fill:none"
                    d="
                        M -1 0
                        L 1 0
                        M 0 -1
                        L 0 1
                    "
                />
            </g>

            <!-- final local scale must undo effect of global scale! otherwise we get wrong sized text -->
            <g transform="translate(.5,4)     scale(.033333) translate(-5,-5) "> <text>e<tspan dy="5" font-size="70%">0</tspan></text> </g>
            <g transform="translate(1,3.5)      scale(.033333) translate(5,5) "> <text>v<tspan dy="5" font-size="70%">1</tspan></text> </g>
            <g transform="translate(1.5,2)      scale(.033333) translate(-20,0) "> <text>e<tspan dy="5" font-size="70%">2</tspan></text> </g>
            <g transform="translate(2,.5)       scale(.033333) translate(0,-5) "> <text>v<tspan dy="5" font-size="70%">3</tspan></text> </g>
            <g transform="translate(0,-1.75)    scale(.033333) translate(0,0) "> <text>e<tspan dy="5" font-size="70%">4</tspan></text> </g>
            <g transform="translate(-2.5,-4)    scale(.033333) translate(2.5,-2.5) "> <text>v<tspan dy="5" font-size="70%">5</tspan></text> </g>
            <g transform="translate(-1.25,-.25) scale(.033333) translate(5,0) "> <text>e<tspan dy="5" font-size="70%">6</tspan></text> </g>
            <g transform="translate(0,3.5)      scale(.033333) translate(-20,5) "> <text>v<tspan dy="5" font-size="70%">7</tspan></text> </g>
            <!-- final local scale must undo effect of global scale! otherwise we get wrong sized text -->
        </g>
    </svg>
</div>
<br>
Figure 1(b): 2 exits tilted too far CW, 1 good exit, 1 exit tilted too far CW
<p>
<pre class="asciiprevis">
Figure 1(c): 310

                         __/
                      __/
                   __*v5
                __/   \
           e6__/       \
          __/           \
                         \e4
                          \
                           \
                            \
                             *v3
                             | \
            __/              |e2
         __/                 |
      v7*---- ... -------+---*v1
 ___/                    e0  |
/
        In ShephardsPlayApplet:
            nVirtual=5  (good for just primal... although primal/dual equalized at about 5.75 or so)
                0,1 1/1
                1,2 1/1
</pre>
<div class="figure">
    <svg class="figure" xmlns="http://www.w3.org/2000/svg"
         version="1.1"
         height="190"
         width="500"
         >
        <!-- 1 unit = 20 pixels -->
        <g transform="translate(250,95) scale(10)">
            <!-- Q: how to scale the coords but not the stroke width??? -->
            <!-- A: supposedly non-scaling-stroke was introduced in SVG Tiny 1.2, not sure if that's what's being used or what -->
            <path
                id="fig1cpath"
                vector-effect="non-scaling-stroke"
                style="stroke: blue; stroke-width: 2.0; fill: none"
                d="
                    M 14 7.5
                    L 15 4.5
                    L 0 -7.5
                    L -18.75 7.5
                    L 14 7.5

                    M 14 7.5
                    l -.25 2

                    M 15 4.5
                    l 2 1

                    M 0 -7.5
                    l 1.5,-1.5

                    M -18.75 7.5
                    l -3 1.5
                "
            />
            <g transform="translate(13.7,7.3) scale(.1) scale(6)">
                <path
                    vector-effect="non-scaling-stroke"
                    style="stroke:black; stroke-width:1.0; fill:none"
                    d="
                        M -1 0
                        L 1 0
                        M 0 -1
                        L 0 1
                    "
                />
            </g>
            <!-- final local scale must undo effect of global scale! otherwise we get wrong sized text -->
            <g transform="translate(-2,7.5)     scale(.1) translate(0,-5) "> <text>e<tspan dy="5" font-size="70%">0</tspan></text> </g>
            <g transform="translate(14,7.5)     scale(.1) translate(1,9) "> <text>v<tspan dy="5" font-size="70%">1</tspan></text> </g>
            <g transform="translate(14.5,6)     scale(.1) translate(1,6) "> <text>e<tspan dy="5" font-size="70%">2</tspan></text> </g>
            <g transform="translate(15,4.5)     scale(.1) translate(0,-5) "> <text>v<tspan dy="5" font-size="70%">3</tspan></text> </g>
            <g transform="translate(7.5,-1.5)    scale(.1) translate(-20,10) "> <text>e<tspan dy="5" font-size="70%">4</tspan></text> </g>
            <g transform="translate(0,-7.5)     scale(.1) translate(-15,-5) "> <text>v<tspan dy="5" font-size="70%">5</tspan></text> </g>
            <g transform="translate(-9,0)       scale(.1) translate(15,-5) "> <text>e<tspan dy="5" font-size="70%">6</tspan></text> </g>
            <g transform="translate(-18.75,7.5) scale(.1) translate(-10,-5) "> <text>v<tspan dy="5" font-size="70%">7</tspan></text> </g>
            <!-- final local scale must undo effect of global scale! otherwise we get wrong sized text -->
        </g>
    </svg>
</div>
<br>
Figure 1(c): 3 exits tilted too far CW, 1 good exit
<p>
    Figure 1(d): gradual double spiral
<p>
    Figure 1(e): steep double spiral
<p>
    Figure 1(f): gradual double spiral
<p>
    Figure 1(g): steep double spiral
<p>
These examples satisfy all the properties
of a single-exit single-polygon lagoon with the cc at the origin,
*except* that when we actually compute the cc,
we'll find it is not at the origin.
We now show that every attempt at constructing a single-exit single-polygon lagoon
is doomed in this way--
that is, given any candidate primal polygon
and a point in its interior such that there is only one good exit
with respect to that point,
that point is *not* the cc of the lagoon.
<p>
The heavy lifting will be done by a lemma which we'll call
the Spiral Moment Lemma,
which states, roughly, that if a contiguous section of a polygon perimeter
is outwardly-spiral-shaped with respect to the origin
and all exits on this section are bad,
then the cc of this section is offset from the origin
in a direction lying strictly between that of the final (largest) position vector
and the corresponding final outward normal vector
(which are strictly less than
$90^{\circ}$
apart).
<p>
How that helps us is as follows:
a polygon with only a single good exit with respect to the origin
is naturally composed of two such sections
(outwardly spiraling in opposite directions)
plus the good exit.
Roughly, the Spiral Moment tells us
that the cc of each of these two sections
is offset from the origin roughly in the same direction as
(i.e. has strictly positive dot product with)
the good exit direction (or position).
Therefore the cc of the whole polygon,
being a weighted average of these two cc's
and the position of the good exit vertex,
is likewise offset from the origin in that same direction,
and so cannot be the origin.
<p>
To be more precise,
let u be any nonzero vector
whose direction lies (not necessarily strictly)
between that of
$(v_m-v_{m+2})$
and
$(v_m-v_{m-2})$.
Any of the following will do:
\begin{align}
                   u = & (v_m-v_{m+2}) \\
    \text{or} \;\; u = & (v_m-v_{m-2}) \\
    \text{or} \;\; u = & \text{(the good exit quill direction)} \\
    \text{or} \;\; u = & \text{(the good exit vertex's direction from origin)} \\
\end{align}
or any other linear combination
$a(v_m-v_{m+2}) + b(v_m-v_{m-2})$
such that $a$ and $b$ are nonnegative and not both zero.
<p>
The important property of u is that the directions of each of the four vectors:
\begin{align}
    n^- = & \text{outward normal of last edge $e_{m-1}$ before (CW from) the good exit} \\
    p^- = & \text{position (minus origin) of last vertex $v_{m-2}$ before (i.e. CW from) the good exit} \\
    p^+ = & \text{position (minus origin) of first vertex $v_{m+2}$ after (i.e. CCW from) the good exit} \\
    n^+ = & \text{outward normal of last edge $e_{m+1}$ after (CCW from) the good exit} \\
\end{align}
is within
$90^{\circ}$
of the direction of u,
i.e. each of $n-,p-,p+,n+$ has positive dot product with u.
<p>
XXX get precise about this if I want to say it
Ultimately what this says is, if the internal angle at
$v_m$
is sharp, we've narrowed the direction of the cc (from the origin)
within a wide range (always smaller than 180 degrees though);
if the internal angle at 
$v_m$ is blunt, we've narrowed the direction of the cc (from the origin),
within a small range.
The range to which we've narrowed the cc's direction is precisely the supplement
of the internal angle at $v_m$.  See Figure XXX.
<div id="priscillaAndDudleyStuff" class="doMyThing">
<p>
We let Priscilla and Dudley compute the moment
by doing their walk around the primal and dual.
Priscilla starts anywhere in the interior of edge
$e_0$
and ends anywhere in the interior of edge
$e_{r+1}$.
Dudley starts and ends at the respective dual vertices.
(XXX maybe call them $v'_0$ and $v'_{r+1}$? yes I think so)
<p>
We consider an "event"
to be a moment during the walk
in which one or more of the following happen:
<ul>
    <li> Priscilla stops moving and Dudley starts moving
         (the first event is of this type)
    <li> Dudley stops moving and Priscilla starts moving
    <li> Dudley crosses the $x$ axis,
         from negative to positive $y$ coordinate
         (this will be a separate event
         iff no dual vertex lies on the $x$ axis).
         XXX this is no longer relevant, I don't think
</ul>
<p>
The accumulated moment vector starts as zero;
at each event at which Dudley has been moving,
Dudley computes the area of the triangle formed by
his previous event position, his current position, and the origin,
and adds
    $$(\text{Dudley's triangle area})*(\text{Priscilla's position})$$
to the moment vector being accumulated.
<p>
Spiral Moment Lemma:
During Priscilla's and Dudley's simultaneous walk around
the CCW-outward-spiraling part of the primal (starting with $e_0$)
and dual as described above, at all times strictly after the first event:
\begin{alignat*}{3}
    0 & \;\overset{(A)}\lt\;  &  rm & \;\overset{(B)}\lt\;  rp \, rd^2 \sin(tp-td) \cos(tp-td) / 2 \\
   td & \;\overset{(C)}\lt\;  &  tm & \;\overset{(D)}\leq\; tp \\
\end{alignat*}
<p>
Proof:
<p>
Note first of all the significance of the "after the first event"
in the Spiral Moment Lemma statement.
This clause is necessary because,
up to and including the first event
(Priscilla stopping at
$v_1$
and Dudley starting moving),
$rm = \|m\| = 0$,
and so ($A$) doesn't hold
(and ($C$),($D$) don't even make sense since
$tm$
isn't even defined).
<p>
Note also that
in any of Priscilla and Dudley's walks,
convexity of the primal polygon and the fact that it contains the origin
in its interior implies that, at all times,
Priscilla's position vector and her outward normal (right) vector
(which is in the direction of Dudley's position vector, by definition)
are strictly within
$90^{\circ}$
of each other.
In this strict spiral case (spiraling CCW outwards), we also know that
$td &lt; tp$.
So (C) and (D) are saying that
$tm$ lies in the half-open interval
$(td,tp]$ of size $\lt \pi/2$.
Combining this with ($A$),($B$),
the Lemma is saying that the moment $m$
lies in (or on the boundary of)
a certain pie-slice-shaped region.
<p>
XXX maybe note geometric interpretation of ... that it's a triangle area, or cross product
<p>
We will prove the Lemma by induction on the number of events
(as defined earlier) encountered so far.
<p>
The base case will be the case when
the number of *previous* events encountered is
1.
(This includes all times strictly after the first event
up to and including the second event.)
That is, Priscilla has stopped moving at
$v_1$
(that was the first event)
and Dudley has been moving along the corresponding edge
$e'_1$
in the dual diagram.
At this time, the moment accumulated so far is simply
    $$(2) \;\;  m = (\text{Dudley's triangle area so far})*(\text{Priscilla's position})$$
which is a nonzero scalar times the nonzero vector
$p=v_1$,
so
$rm = \|m\| \gt 0$
(so ($A$) is satisfied, and
$tm$
is well-defined),
and
$tm = tp$.
So ($D$) holds, and ($C$) immediately follows
(since we always have $td \lt tp$ throughout any strictly CCW-outward spiral).
We still have to prove that ($B$) holds in the base case.
<p>
For this base case,
we temporarily rotate the entire picture
so that Priscilla's position
$p$ (a vertex)
is on the
$+y$
axis,
and so Dudley is traveling northwest along the corresponding dual edge
$e'_1$ within the first quadrant,
as shown in Figure 3.  XXX it shows the edge vertical, that's not right
Note that this temporary rotation of the picture
does not change the truth or falsity of ($B$) that we are trying to prove,
since all of the quantities
$rm$,
$rp$,
$rd$,
$tp-td$
are invariant under this rotation
(even though
$tp$
and
$td$
have changed-- specifically,
$tp$
is now
$\pi/2$).
<pre>
      Priscilla
       p=v_1*
            :       * v'<sub>2</sub>  (XXX reframe this so it's not in terms of these features)
            :       |
            :     / |
            :       | e'<sub>1</sub>
            :    /  |
            :       |  Dudley     ^
            :   /   * d=&lt;x<sub>d</sub>,y<sub>d</sub>&gt; |
            :      /|             |
            :  /  / |
            :    /  |
            : / /  _* v'<sub>0</sub>
            :  / _/ :
            ://_/   :
            ://     :
           0*.......* &lt;x<sub>d</sub>,0&gt;

        Figure 3: Base case, in temporarily rotated coord system
</pre>
We can get an upper bound on the area of Dudley's triangle so far,
as follows:
\begin{align}
    & \text{Dudley's triangle area so far} \\
    & \;\; = \text{area}(\triangle(0,v'_0,d)) \\
    & \;\; &lt; \text{area}(\triangle(0,\langle xd,0\rangle,d)) \;\; \text{since the former triangle is included in the latter, since $v'_0$ has $y$ coord &gt; 0 (XXX prove this!)} \\
    & \;\; = xd yd / 2 \\
    & \;\; = (rd \cos(td)) (rd \sin(td)) / 2\\
    & \;\; = (rd \sin(\pi/2-td)) (rd \cos(\pi/2-td)) / 2\\
(3) & \;\; = rd^2 \sin(\pi/2-td) \cos(\pi/2-td) / 2
\end{align}
<p>
Taking magnitudes of both sides of (2),
\begin{align}
   rm &amp; = (\text{Dudley's triangle area so far}) * rp \\
       &amp; &lt; (rd^2 \sin(\pi/2-td) \cos(\pi/2-td) / 2 ) * rp  \;\; \text{by (3)} \\
       &amp; = rp rd^2 \sin(\pi/2-td) \cos(\pi/2-td) / 2 \\
       &amp; = rp rd^2 \sin(tp-td) \cos(tp-td) / 2 \;\; \text{(by XXX if I rearrange the above to state trivial facts first, like the other cases)} \\
\end{align}
and so we've shown ($B$),
completing the proof of the base case.
<p>
For the inductive step,
we will show that, given two times
$\underline{t} \lt \overline{t}$
during the walk,
if only Priscilla moves or only Dudley moves during the that time interval,
and if the Lemma statement holds at $\underline{t}$, then it also holds at $\overline{t}$.
Since the walk leading to any desired target time
can be expressed as a finite number of steps of this form,
this will prove that the Lemma statement holds at all times.
<p>
Using underbars and overbars to denote the respective values
at times $\underline{t}$ and $\overline{t}$,
the inductive hypothesis is that the Lemma statement holds at $\underline{t}$:

\begin{alignat*}{3}
     0 & \;\overset{(_A)}\lt\;  &  _rm & \;\overset{(_B)}\lt\;  _rp \, _rd^2 \sin(_tp-_td) \cos(_tp-_td) / 2 \\
   _td & \;\overset{(_C)}\lt\;  &  _tm & \;\overset{(_D)}\leq\; _tp \\
\end{alignat*}
and, assuming that, we must prove that it holds at $\overline{t}$:
\begin{alignat*}{3}
     0 & \;\overset{(^A)}\lt\;  &  ^rm & \;\overset{(^B)}\lt\;  ^rp \, ^rd^2 \sin(^tp-^td) \cos(^tp-^td) / 2 \\
   ^td & \;\overset{(^C)}\lt\;  &  ^tm & \;\overset{(^D)}\leq\; ^tp. \\
\end{alignat*}
There are two cases.
<p>
Case 1: In the time from $\underline{t}$ to $\overline{t}$,
Priscilla has moved (in a straight line) and Dudley has stayed still.
<p>
This time we temporarily rotate the picture
so that Dudley's (stationary) position is on the
$+x$
axis,
and so Priscilla has travelled upwards along a now-vertical primal edge,
as shown in Figure 4.
As in the base case, this is simply a change of coordinate system
that does not change the truth or falsity of the Lemma at
$\underline{t}$
or
$\overline{t}$
(even though
$tp$
and
$td$
have changed-- specifically,
$_td$
and
$^td$
are now both
$0$).
<pre class="asciiprevis">
    <span id="youarehere" style="color:green">YOU ARE HERE<br></span>
                    * <span class="ol">p</span>=&lt;<span class="uol">x<sub>p</sub></span>,<span class="ol">y<sub>p</sub></span>&gt;
                    |
                  . |
                    | ^
                 .  | |
                    | | Priscilla walks from <span class="ul">p</span> to <span class="ol">p</span>
                .   | | (perpendicular to Dudley's stationary position)
                    | |
               .    |
                    |
              .     * <span class="ul">p</span>=&lt;<span class="uol">x<sub>p</sub></span>,<span class="ul">y<sub>p</sub></span>&gt;
                  .
             .  .
              .          Dudley
          0 *----------------* <span class="uol">d</span>
</pre>
<div id="figure4div" class="figure">
        <svg class="figure" xmlns="http://www.w3.org/2000/svg" version="1.1" width="450" height="330">
        <g class="theGraphic" transform="translate(150,300) scale(200,-200)">
           
            <!-- note, the super-light gray here might not be appropriate for printing or most displays; my display maybe isn't like most -->
            <path class="yAxis" vector-effect="non-scaling-stroke" style="stroke:#f0f0f0; stroke-width:2; fill: none; stroke-opacity:1" d="M 0 1 L 0 0"></path>

            <path class="p0p1DottedPath" vector-effect="non-scaling-stroke" style="stroke:#e0e0e0; stroke-width:2; stroke-dasharray:5,5; fill:none" d="M 0.395 0.675 L 0 0 M 0.395 0.97 L 0 0"></path>

            <path class="dudleyNeighborsPath vertexColoredPath" vector-effect="non-scaling-stroke" style="stroke-width: 2px; fill: none; stroke-opacity: 1;" stroke="rgb(128,128,255)" d=" M 0.65 0 L 0.7964538239835902 0.11446675321721539 L 0 0 M 0.7964538239835902 0.11446675321721539 L 0.9557477786861427 0.2805153332887296 L 0 0 M 0.9557477786861427 0.2805153332887296 L 1.12169122102953 0.5120290076993976 L 0 0 M 0.65 0 L 0.5197409006028711 -0.07469742954919617 L 0 0 M 0.5197409006028711 -0.07469742954919617 L 0.4070013811972714 -0.11945633632805765 L 0 0 M 0.4070013811972714 -0.11945633632805765 L 0.3117110509892494 -0.1422896935758044 L 0 0" vertex-opacities=" 1 0.6666666666666667 1 0.6666666666666667 0.33333333333333337 0.6666666666666667 0.33333333333333337 0 0.33333333333333337 1 0.6666666666666667 1 0.6666666666666667 0.33333333333333337 0.6666666666666667 0.33333333333333337 0 0.33333333333333337"></path>
            <path class="dudleyMainPath" vector-effect="non-scaling-stroke" style="stroke: blue; stroke-width: 4; fill: none; stroke-miterlimit:1.414" d="M 0 0 L 0.65 0 L 0.65 0 L 0 0"></path>

            <path class="priscillaNeighborsPath vertexColoredPath" vector-effect="non-scaling-stroke" style="stroke-width: 2px; fill: none; stroke-opacity: 1;" stroke="red" d=" M 0.33879976293631986 1.3610383797923649 L 0.395 0.97 L 0.6011691954550926 0.7062180177791795 M 0.18980688398494144 1.8686741351300733 L 0.33879976293631986 1.3610383797923649 L 0.6623410445898534 1.0506583076356069 M -0.1044005186514198 2.513188128940457 L 0.18980688398494144 1.8686741351300733 L 0.6778085524893311 1.5188862578175295 M 0.5193655071830998 0.4581285619933082 L 0.395 0.675 L 0.36366251111060466 0.45695535246256586 M 0.4325473480617617 0.2834470170026336 L 0.36366251111060466 0.45695535246256586 L 0.31733727911334053 0.2991199961580543 M 0.3498208535506136 0.1635564650978084 L 0.31733727911334053 0.2991199961580543 L 0.2663300499354431 0.18737952771280122" vertex-opacities=" 0.33333333333333337 0.5 0 0.16666666666666669 0.33333333333333337 0 0 0.16666666666666669 0 0 0.5 0.33333333333333337 0 0.33333333333333337 0.16666666666666669 0 0.16666666666666669 0"></path>
            <path class="priscillaMainPath" vector-effect="non-scaling-stroke" stroke="red" stroke-opacity="1" style="stroke-width: 4; fill: none" d="M 0.395 0.675 L 0.395 0.97"></path>

                
            <g class="p0transform" transform="translate(0.395,0.675)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle class="priscillaPoint0 movable" cx="0" cy="0" r="3" style="stroke: red; fill: white;"></circle>
                    <g transform="translate(8,-6)">
                        <text class="p0text">
                            <tspan x="0" y="0">p</tspan>
                            <tspan x="0" y="3">_</tspan>
                        </text>
                    </g>
                </g>
            </g>
            <g class="p1transform" transform="translate(0.395,0.97)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle class="priscillaPoint1 movable" cx="0" cy="0" r="3" style="stroke: red; fill: white;"></circle>
                    <g transform="translate(6,-6)">
                        <text class="p0text">
                            <tspan x="0" y="0">p</tspan>
                            <tspan x="0" y="-15">_</tspan>
                        </text>
                    </g>
                </g>
            </g>
            <g transform="translate(0,0)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle class="origin movable" cx="0" cy="0" r="3" style="stroke:blue;fill:white"></circle>
                    <g transform="translate(-10,15)">
                        <text>0</text>
                    </g>
                </g>
            </g>

            <g class="dtransform" transform="translate(0.65,0)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle class="dudleyPoint movable" cx="0" cy="0" r="3" style="stroke:blue;fill:white"></circle>
                    <g transform="translate(4,12)">
                        <text class="dtext">d</text>
                    </g>
                </g>
            </g>

        </g>
    </svg>
</div>
<br>
Figure 4: Inductive step, Case 1: Priscilla walks from $_p$ to $^p$ while Dudley is stationary at $d$.
<p>
XXX rearrange and use underoverline for all of the following, like in case 2
<br>
In this case we have the following relationships between the previous event's values
and the current values.
Dudley didn't move:
    $$(4) \;\; ^rd = _rd$$
    $$(5) \;\; ^td = _td = 0$$
nor did the moment (since the moment only changes when Dudley moves):
    $$(6) \;\; ^rm = _rm$$
    $$(7) \;\; ^tm = _tm  \;\; \text{(assuming $_tm$ is well-defined-- which it is, by inductive hypothesis)}$$
Priscilla moved purely upwards, within the first quadrant: (XXX may need to make very clear why this is true! it follows from C and/or D but it's a bit of a train wreck at the moment :-( )
\begin{align}
             0 & \lt _yp \lt ^yp \\
    (8) \;\; 0 & \lt _xp = ^xp
\end{align}
so her angle increased, but stayed less than $\pi/2$:
    $$(9) \;\; 0 \lt _tp \lt ^tp \lt \pi/2$$
   $$(10) \;\; 0 \lt \sin(_tp) \lt \sin(^tp) \lt 1  \;\; \text{(follows from (9) since $\sin$ is increasing in this range)}$$
   $$(11) \;\; 1 \gt \cos(_tp) \gt \cos(^tp) \gt 0  \;\; \text{(follows from (9) since $\cos$ is decreasing in this range)}$$
<p>
Proving ($^C$) is easy:
\begin{align}
    ^td & = _td  \;\; \text{by (5)} \\
                        & \lt _tm  \;\; \text{by} (_C) \\
                        & = ^tm  \;\; \text{by (7).}
\end{align}
Proving ($^D$) is easy:
\begin{align}
    ^tm & = _tm  \;\; \text{by (7)} \\
                        & \leq _tp  \;\; \text{by} (_D) \\
                        & \lt ^tp  \;\; \text{by (9)}
\end{align}
<p>
Proving ($^A$) is easy:
\begin{align}
    ^rm & = _rm  \;\; \text{by (6)} \\
                   & \gt 0  \;\; \text{by} (_A)
\end{align}
<p>
Proceeding now to prove ($^B$):
\begin{align}
    ^rm & = _rm  \;\; \text{by (6)} \\
                   & \lt _rp \, _rd^2 \sin(_tp-_td) \cos(_tp-_td) / 2  \;\; \text{by} (_B) \\
                   & = _rp \, _rd^2 \sin(_tp) \cos(_tp) / 2  \;\; \text{by (5)} \\
                   & = _rp \, ^rd^2 \sin(_tp) \cos(_tp) / 2  \;\; \text{by (4)} \\
                   & = (_rp \cos(_tp)) ^rd^2 \sin(_tp)/2   \;\; \text{(just rearranging terms)} \\

                   & = _xp \, ^rd^2 \sin(_tp)/2 \\
                   & = ^xp \, ^rd^2 \sin(_tp)/2   \;\; \text{by (8)} \\
                   & = (^rp \cos(^tp)) ^rd^2 \sin(_tp)/2 \\
                   & \lt (^rp \cos(^tp)) ^rd^2 \sin(^tp)/2  \;\; \text{by (10), since all factors are positive (by (10) and (11))} \\
                   & = ^rp \, ^rd^2 \cos(^tp) \sin(^tp) / 2   \;\; \text{(just rearranging terms)} \\
                   & = ^rp \, ^rd^2 \cos(^tp - 0) \sin(^tp - 0) / 2 \\
                   & = ^rp \, ^rd^2 \sin(^tp-^td) \cos(^tp-^td) / 2  \;\; \text{by (5)}
\end{align}
and so ($^B$) is proved,
completing Case 1 of the inductive step.
<p>
Case 2: In the time from $\underline{t}$ to $\overline{t}$,
Dudley has moved (in a straight line) and Priscilla has stayed still.
<p>
As in the base case, we work in a rotated coordinate system
in which Priscilla's (stationary) position is on the +y axis,
so Dudley is traveling along a dual edge,
as shown in Figure 5.
<pre class="asciiprevis">
        Priscilla
            *<span class="uol">p</span>=&lt;0,<span class="uol">y_p</span>&gt;
            :
            :
            :       * <span class="ol">d</span>
            :       |  
            :     / |
            :       | ^
            :    /  | |
            :       | | Dudley walks from <span class="ul">d</span> to <span class="ol">d</span>
            :   /   | |
            :       | |
            :  /    |
            :       |
            : /    _* <span class="ul">d</span>
            :    _/ :
            :/ _/   :
            : /     :     
          0 *.......* &lt;<span class="uol">x<sub>d</sub></span>,0&gt;
</pre>
<div id="figure5div" class="figure">
    (placeholder -- this should get replaced by the figure 5 svg)
</div>
<br>
Figure 5: Inductive step, Case 2: Dudley walks from $_d$ to $^d$ while Priscilla is stationary at $p$.
<p>
We denote quantities that are stationary at this step
by giving them both an underbar and overbar.
Priscilla is on the $+y$ axis and didn't move:
\begin{align}
                _^xp = & 0 \\
    (11.5) \;\; _^rp = & _^yp \gt 0 \\
    (12)   \;\; _^tp = & \pi/2 \\
\end{align}
Dudley moved northwest, strictly within the first quadrant:
(XXX may need more clarification, just like previous case)
\begin{align}
    (13)   \;\; 0 \lt & _yd \lt ^yd \\
    (13.5) \;\; 0 \lt & _xd \lt ^xd \\
\end{align}
and his angle increased (this follows from convexity of the primal polygon;
Priscilla is turning left at her vertex), but stayed less than $\pi/2$:
\begin{align}
    (14) \;\; 0 \lt & _td \lt ^td \lt \pi/2 \\
    (15) \;\; 0 \lt & \sin(_td) \lt \sin(^td) \lt 1 \;\; \text{(follows from (14) since $\sin$ is increasing in this range)} \\
    (16) \;\; 1 \gt & \cos(_td) \gt \cos(^td) \gt 0 \;\; \text{(follows from (14) since $\cos$ is decreasing in this range)} \\
\end{align}
The moment changed as follows:
\begin{align}
         ^m = & _m + (\text{area of Dudley's triangle}) * (\text{Priscilla's position}) \\
    (16.5)  = & _m + (\frac{1}{2} _d \times ^d) * \langle 0,_^yp \rangle \\
\end{align}
(where $\times$ denotes the scalar cross product
of two vectors in the plane; that is,
the determinant of the
$2 \times 2$
matrix whose rows are the two vectors).
(XXX 16.5 not used? straighten this out)<br>
Therefore by (12), the moment moved purely upwards;
furthermore ($_C$),($_D$) (and XXX) say it started strictly inside the first quadrant
so it ended there as well;
so ($^A$) is immediately satisfied and:
\begin{align}
    (17)  \;\;  0 & \lt _ym \lt ^ym \\
    (18)  \;\;  0 & \lt _xm = ^xm = _^xm \\
    (19)  \;\;  0 & \lt _tm \lt ^tm \lt \pi/2 \\
    (20)  \;\;  0 & \lt \sin(_tm) \lt \sin(^tm) \lt 1 \\
    (21)  \;\;  1 & \gt \cos(_tm) \gt \cos(^tm) \gt 0 \\
\end{align}
<p>
($^D$) follows trivially:
\begin{align}
            ^tm \lt & \pi/2 \;\; \text{by (19)} \\
                  = & ^tp \;\; \text{by (12)} \\
\end{align}
<div id="figure6div" class="figure">
    (placeholder -- this should get replaced by the figure 5 svg)
</div>
<br>
Figure 6: Proving ($^B$) in inductive step case 2
<p>
($^B$) is proved as follows (see figure 6):
\begin{align}
    ^rm = \|^m\| = & \|_m + (\text{area of Dudley's triangle}) * (\text{Priscilla's position})\| \\
             \le & \|_m\| + (\text{area of Dudley's triangle}) * \|_^p\| \;\; \text{by triangle inequality} \\
               = & _rm + (\text{area of Dudley's triangle}) * _^rp \\
             \lt & _^rp _rd^2 \sin(_tp-_td)\cos(_tp-_td)/2 + (\text{area of Dudley's triangle}) * _^rp \;\; \text{by ($_B$)} \\
               = & _^rp ((_rd \sin(_tp-_td))(_rd \cos(_tp-_td))/2 + (\text{area of Dudley's triangle})) \\
               = & _^rp (\text{area}(\triangle(0,\langle _xd,0 \rangle,_d)) + \text{area}(\triangle(0,_d,^d))) \\
             \lt & _^rp \text{area}(\triangle(0,\langle ^xd,0 \rangle,^d)) \;\; \text{since this tri strictly contains the disjoint union of the previous two} \\
               = & _^rp rd^2 \cos(^td)\sin(^td) / 2 \\
               = & _^rp rd^2 \sin(\pi/2-^td)\cos(\pi/2-^td) / 2 \;\; \text{since $\cos(t)=\sin(\pi/2-t)$ in general} \\
               = & _^rp rd^2 \sin(_^tp-^td)\cos(_^tp-^td) / 2 \;\; \text{by (12)} \\
\end{align}
So that proves ($^B$); all we have left to prove is ($^C$).
<p>
For this, we first derive a tighter bound on $_xm$,
from the pie-slice-shaped bounds on $_rm$ and $_tm$
given in the inductive hypothesis.
The "all terms positive" claims throughout the following
follow from ($_A$),($_C$),($_D$).  (XXX maybe tighten this up)
\begin{align}
 _rm \sin(_tp - _tm) = & _rm \sin((_tp-_td)-(_tm-_td)) \\
                     = & _rm (\sin(_tp-_td)\cos(_tm-_td) - \cos(_tp-_td)\sin(_tm-_td)) \;\; \text{by double-angle identity} \\
                     = & _rm \sin(_tp-_td)\cos(_tm-_td) - _rm \cos(_tp-_td)\sin(_tm-_td) \\
                   \lt & _rm \sin(_tp-_td)\cos(_tm-_td) - 0 \;\; \text{since all terms positive} \\
                   \lt & _rm \sin(_tp-_td) * 1 \;\; \text{since $\cos(_tm-_td) \lt 1$ and all terms positive} \\
                   \lt & (\frac{1}{2} _rp _rd^2 \sin(_tp-_td)\cos(_tp-_td)) \sin(_tp-_td) \;\; \text{by} (_B) \\
                     = & \frac{1}{2} _rp \cos(_tp-_td) (_rd \sin(_tp-_td))^2 \\
                   \lt & \frac{1}{2} _rp (_rd \sin(_tp-_td))^2 \;\; \text{since $0 \lt \cos(_tp-_td) \lt 1$} \\
\end{align}
In this Priscilla-aligned coordinate system, that's the same as saying:
\begin{align}
                _rm \sin(\pi/2 - _tm) \lt & \frac{1}{2} rp (rd \sin(pi/2 - _td))^2 \\
                _rm \cos(_tm) \lt & \frac{1}{2} rp (rd \cos(_td))^2 \\

                                         _xm \lt & \frac{1}{2} _rp _xd^2 \\
       (22) \;\; \frac{1}{2} _rp _xd^2 - _xm \gt & 0.
\end{align}
(XXX could phrase that in terms "$m \times p \lt \frac{1}{2} (d \times p)^2$",
coordinate-free til the last second, if we wanted... maybe)
<p>
Now we proceed to prove ($^C$).
Since $^d$,$^m$,$_d$,$_m$ are all in the first quadrant,
their
$\theta$'s
are all strictly within
$90^{\circ}$
of each other,
and our goal ($^C$) can be expressed as
$^d \times ^m \gt 0$,
and assumption ($_C$) is that $_d \times _m \gt 0$.
<p>
So we just need to prove $^d \times ^m \gt 0$ and we're done.

<div id="typesetJustMe">
</div> <!-- typesetJustMe -->
Define
$\hat{d} = \langle \hat{xd},\hat{yd} \rangle$
to be the intersection of the vertical line through $_d$
with the line through the origin and $^d$.
Figure 7 shows $^d$,
and it also shows the possible locations of $_m$ according
to the inductive hypothesis (the lower small pie slice, including part of its boundary),
and the corresponding possible locations of $^m$ (the upper small pie slice),
and the region in which we are trying to prove $^m$ lies in
(the large pie slice).  The entire inductive step (all 4 parts)
state that the upper small pie slice is contained in the large pie slice.
<div id="figure7div" class="figure">
    (placeholder -- this should get replaced by the figure 5 svg)
</div>
<br>
Figure 7: Proving ($^C$) in inductive step case 2
<p>
Some very easy facts about $\hat{d}$:
\begin{align}
   (22.5) \;\;  \hat{xd} = & _xd \\
   (22.6) \;\;  \hat{yd} = & (_xd/^xd) ^yd. \\
\end{align}
(22.6) and (13.5) imply:
\begin{align}
   (22.7) \;\;  \hat{yd} \lt & ^yd
\end{align}
Also,
\begin{align}
            \hat{td} = & ^td \\
                   \gt & _td \;\;  by (14)
\end{align}
and all these angles are in the interval $(0,\pi/2)$ by (14), so
\begin{align}
   (22.8) \;\;  \tan(\hat{td}) \gt \tan{_td} \gt 0
\end{align}
So then,
\begin{align}

                 \hat{yd} = & \hat{xd} \tan(\hat{td}) \\
                          = & \hat{xd} \tan(\hat{td}) \\
                          = & \hat{xd} \tan(^td) \;\; \text{since $\hat{td} = ^td$} \\
                          = & _xd \tan(^td) \;\; \text{by (22.5)} \\
                        \gt & _xd \tan(_td) \;\; \text{by (22.8) and (13.5)} \\
                          = & _yd \\
   (22.9) \;\; \hat{yd} \gt & _yd. \\
\end{align}
So 22.7 and 22.9 say:
\begin{align}
            _yd \lt \hat{yd} \lt ^yd
\end{align}
(all of which is obvious from the picture).
<p>
So our goal ($^C$),
which is to prove $tm \gt ^td$,
is the same as proving $_tm \gt \hat{td}$,
i.e. that $\hat{d} \times ^m \gt 0$.
So that's what we'll show in order to complete the proof.

\begin{align}
 \hat{d} \times ^m = & \langle \hat{xd},\hat{yd} \rangle \times \langle _^xm,^ym \rangle \\
                   = & \langle _xd,\hat{yd} \rangle \times \langle _^xm,^ym \rangle \;\; \text{by (22.7)} \\
                   = & _xd ^ym  -  \hat{yd} _^xm \\

                   = & _xd (_ym + \text{area}(\triangle(0,_d,^d)) _^yp) - \hat{yd} _^xm \\
                   > & _xd (_ym + \text{area}(\triangle(0,_d,\hat{d})) _^yp) - \hat{yd} _^xm \;\; \text{since this triangle is strictly smaller} \\
                   = & _xd (_ym + \frac{1}{2} _xd (\hat{yd}-_yd) _^yp) - \hat{yd} _^xm \\
                   & \\

                   = & _xd (_ym + \frac{1}{2} _xd (\hat{yd}-_yd) _^yp)  -  (_yd + (\hat{yd}-_yd)) _^xm \;\; \text{since $\hat{yd} = _yd + (\hat{yd}-_yd)$} \\
                   & \\

                   = & (_xd _ym - _yd _^xm) + (\hat{yd}-_yd) (\frac{1}{2} _xd ^2 _^yp - _^xm) \;\;\;\; \text{(just rearranged terms)} \\
                   = &          _d \times _m          + (\hat{yd}-_yd) (\frac{1}{2} _xd ^2 _^yp - _^xm) \\
                 \gt &             0             + (\hat{yd}-_yd) (\frac{1}{2} _xd ^2 _^yp - _^xm) \;\; \text{by ($_C$)} \\
                   = & (\hat{yd}-_yd) (\frac{1}{2} _xd ^2 _^yp - _^xm) \\
                   = & (\hat{yd}-_yd) (\frac{1}{2} _xd ^2 _^rp - _^xm) \;\; \text{by ($11.5$)} \\
  
                 \gt & 0, \;\; \text{by (22.9) and (22).} \\
\end{align}
So ($^C$) is proved, completing the induction
and the proof of the Spiral Moment Lemma.

</div> <!-- priscillaAndDudleyStuff -->


<div class="debug">
  <div id="figureTemplateDiv" class="figure" width="450" height="330">
        <svg class="figure" xmlns="http://www.w3.org/2000/svg" version="1.1" width="450" height="330">
<!--?xml version="1.0" standalone="no"?-->
        <g class="theGraphic" transform="translate(150,300) scale(200,-200)">
           
            <!-- note, the super-light gray here might not be appropriate for printing or most displays; my display maybe isn't like most -->
            <path class="yAxis" vector-effect="non-scaling-stroke" style="stroke:#f0f0f0; stroke-width:2; fill: none; stroke-opacity:1" d="M 0 1 L 0 0"></path>

            <g class="arcsStuff">
                <path class="m1arc" vector-effect="non-scaling-stroke" style="stroke:#e0e0e0; stroke-width:2; fill: none; stroke-opacity:1" d="M 0 0 L 0.056920997883030844 0.01897366596101028 A0.06000000000000002,0.06000000000000002 0 0,1 0,0.06000000000000002 L 0 0"></path>
                <path class="m2arc" vector-effect="non-scaling-stroke" style="stroke:#e0e0e0; stroke-width:2; fill: none; stroke-opacity:1" d="M 0 0 L 0.19200000000000006 0.14400000000000007 A0.24000000000000007,0.24000000000000007 0 0,1 0,0.24000000000000007 L 0 0"></path>
                <path class="m3arc" vector-effect="non-scaling-stroke" style="stroke:#e0e0e0; stroke-width:2; fill: none; stroke-opacity:1" d="M 0 0.10000000000000003 L 0.056920997883030844 0.1189736659610103 A0.06000000000000002,0.06000000000000002 0 0,1 0,0.16000000000000006 L 0 0.10000000000000003"></path>
            </g>
            <g class="dhatStuff"> <!-- note there's more than one dhatStuff -->
                <path class="dhatDottedPath" vector-effect="non-scaling-stroke" style="stroke:#808080; stroke-width:2; stroke-dasharray:5,5; fill: none; stroke-opacity:1" d="M 0.6000000000000001 0.2 L 0.6000000000000001 0.4500000000000001"></path>
            </g>

            <g class="orthoDottedPathStuff">
                <path class="orthoDottedPath" vector-effect="non-scaling-stroke" style="stroke:#808080; stroke-width:2; stroke-dasharray:5,5; fill: none; stroke-opacity:1" d="M 0 0 L 0.8 0 L 0.8 0.6000000000000001 M 0 0 L 0.6000000000000001 0 L 0.6000000000000001 0.2"></path>
            </g>

            <path class="dudleyNeighborsPath" stroke-miterlimit="100000" vector-effect="non-scaling-stroke" style="stroke-width: 2px; fill: none;" stroke="rgb(128,128,255)" stroke-opacity="1" d=" M 0.8 0.6000000000000001 L 0.9000000000000001 1.3000000000000003 L 0 0 M 0.6000000000000001 0.2 L 0.4000000000000001 -5.551115123125783e-17 L 0 0" vertex-opacities=" 1 0 1 1 0 1"></path>

            <path class="dudleyMainPath" vector-effect="non-scaling-stroke" style="stroke: blue; stroke-width: 4; fill: none; stroke-miterlimit:1.414" d="M 0 0 L 0.6000000000000001 0.2 L 0.8 0.6000000000000001 L 0 0"></path>
            <path class="priscillaNeighborsPath" vector-effect="non-scaling-stroke" style="stroke-width: 2px; fill: none; stroke-opacity: 1;" stroke="red" d=" M -2.160000000000001 2.88 L -0.6000000000000003 1.8 L 0.3899494936611664 1.6585786437626908 M 0.3630852169962633 0.3035814496704034 L 0.1666666666666667 0.49999999999999994 L 0.16666666666666669 0.22222222222222215 M 0.47140452079103173 0.7642977396044842 L 0.7071067811865476 0.6464466094067263" vertex-opacities=" 0 0.5 0 0 0.5 0 1 0"></path>
            <path class="priscillaMainPath" vector-effect="non-scaling-stroke" stroke="red" stroke-opacity="1" style="stroke-width: 2; fill: none" d="M 0.1666666666666667 0.49999999999999994 L 0 1 L -0.6000000000000003 1.8 M 0 1 L 0.47140452079103173 0.7642977396044842"> </path>

                
            <g class="ptransform" transform="translate(0,1)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle class="priscillaPoint movable" cx="0" cy="0" r="4" style="stroke-width:2; stroke: red; fill: white;"></circle>
                    <g transform="translate(10,-10)">
                        <text>p</text>
                    </g>
                </g>
            </g>
            <g transform="translate(0,0)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle "origin="" movable"="" cx="0" cy="0" r="3" style="stroke:blue;fill:white"></circle>
                    <g transform="translate(-10,15)">
                        <text>0</text>
                    </g>
                </g>
            </g>

            <g class="dhatStuff"> <!-- note there's more than one dhatStuff -->
                <g class="dhattransform" transform="translate(0.6000000000000001,0.4500000000000001)">
                    <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                        <circle cx="0" cy="0" r="4" style="stroke:none;fill:blue"></circle>
                        <g transform="translate(-15,0)">
                            <text class="d0text">
                                <tspan x="0" y="0">d</tspan>
                                <tspan x="1" y="-9">^</tspan>
                            </text>
                        </g>
                    </g>
                </g>
            </g>

            <g class="d0transform" transform="translate(0.6000000000000001,0.2)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle "dudleypoint0="" movable"="" cx="0" cy="0" r="3" style="stroke:blue;fill:white"></circle>
                    <g transform="translate(5,10)">
                        <text class="d0text">
                            <tspan x="0" y="0">d</tspan>
                            <tspan x="0" y="0">_</tspan>
                        </text>
                    </g>
                </g>
            </g>
            <g class="d1transform" transform="translate(0.8,0.6000000000000001)">
                <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                    <circle "dudleypoint1="" movable"="" cx="0" cy="0" r="3" style="stroke:blue;fill:white"></circle>
                    <g transform="translate(10,5)">
                        <text class="d1text">
                            <tspan x="0" y="0">d</tspan>
                            <tspan x="0" y="-19">_</tspan>
                        </text>
                    </g>
                </g>
            </g>
            <g class="orthoDottedPathStuff">
                <g class="xd0transform" transform="translate(0.6000000000000001,0)">
                    <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                        <g transform="translate(-15,17)">
                            <text class="xd0text">
                                <tspan>x</tspan><tspan dy="5" font-size="70%">d</tspan>
                                <tspan x="0" y="3">_</tspan>
                                <tspan x="6" y="3">_</tspan>
                            </text>
                        </g>
                    </g>
                </g>
                <g class="xd1transform" transform="translate(0.8,0)">
                    <g class="undoScaleForSvgText" transform="scale(0.005,-0.005)">
                        <g transform="translate(0,17)">
                            <text class="xd1text">
                                <tspan>x</tspan><tspan dy="5" font-size="70%">d</tspan>
                                <tspan x="0" y="-15">_</tspan>
                                <tspan x="6" y="-15">_</tspan>
                            </text>
                        </g>
                    </g>
                </g>
            </g>

        </g>
    </svg>
  </div>
</div>

<p>

<hr> <!--============================================================-->
<p>
    <!-- XXX hey dammit, where's the icon for the html5 check? can't seem to get to it since it's using an experimental feature? -->


    <!-- it would be cool to make some javascript to do the following:
         if current url starts with "file", use "http://validator.w3.org/#validate_by_upload"
         if current url starts with "http", use "http://validator.w3.org/check?uri=referer"
                                                "http://jigsaw.w3.org/check/referer"
         and maybe even fill in the starting file if possible? -->

    <a href="http://validator.w3.org/unicorn/#validate-by-upload">
        <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss"
            alt="Valid!" />
    </a>
    <a href="http://validator.w3.org/#validate_by_upload">
        <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss"
            alt="Valid!" />
    </a>
    <a href="http://jigsaw.w3.org/css-validator/#validate_by_upload">
        <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
            alt="Valid CSS!" />
    </a>
</p>
<hr> <!--============================================================-->

</body>
</html>

